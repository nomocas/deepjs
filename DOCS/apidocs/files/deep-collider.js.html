<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>deep-collider.js - deepjs API</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.8.0&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="..&#x2F;assets/favicon.png">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;combo?3.8.0&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title="deepjs API"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.9.1</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/DeepHandler.html">DeepHandler</a></li>
            
                <li><a href="..&#x2F;classes/SynchHandler.html">SynchHandler</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/deep.html">deep</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: deep-collider.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
&#x2F;**
 * @author Gilles Coomans &lt;gilles.coomans@gmail.com&gt;
 *&#x2F;
if(typeof define !== &#x27;function&#x27;)
	var define = require(&#x27;amdefine&#x27;)(module);

&#x2F;*
 * layer-compose : inspired by Compose, it offer a large set of tools that permit to manipulate values 
 * from within the object used as layer when applied together. 
 * As Compose merge two prototype by wrapping collided functions by appropriate Compose method (after, before, around),
 * layer-compose do the same by applying a function when values are collided with that function.
 *
 * If you know photoshop : it&#x27;s an equivalent of the fusion modes between two layers (or part of two layers). 
 * TODO : implement almost every operations, few are done. Will be made on-need.

Remarque : 
Almost totaly unusable for now... ;)
But you could do it for us...;)

 *&#x2F;

define(function(require)
{

	var Collider = function(){

	}
	Collider.prototype = {}
	return {
		Collider:Collider,
		wrap:function(wrapper, wrapped){
			var a = function(value, parent, key){
				return wrapper(wrapped(value, parent, key), parent, key);
			}	
			a._deep_collider = true;
			return a;
		},
		retrieve:function(){
			return function(value, parent, name){
				return newObject;
			}
			a._deep_collider = true;
			return a;
		},
		copyTo:function(object, path){
			var a = function(value, parent, key){
				utils.setValueByPath(object, path, value)
				return value;
			}
			a._deep_collider = true;
			return a;	
		},
		around:function(handler){
			handler._deep_collider = true;
			return handler; 
		},
		replace:function(newValue){
			var a = function(value){
				return newValue;
			}
			a._deep_collider = true;
			return a;
		},
		log:function(){
			&#x2F;&#x2F;console.log(&quot;add layer composition : log&quot;)
			var a =function(value){
				console.log(&quot;LayerTools : log : &quot;,value);
				return value;
			}
			a._deep_collider = true;
			return  a;
		},
		validate:function(schema){
			return function(value){
				this._deep_collider = true;
				if(!validator.isValid(value, schema))
					throw new ValidationError(validator.report);
				return value;
			}
			a._deep_collider = true;
			return a;
		},
		remove:function(){
			var a = function(value, parent, key)
			{
				delete parent[key];
				return undefined;
			}
			a._deep_colliderRemove = true;
			return a;
		},
		assert:{
			isTrue:function(){
				return function(value){
					console.assert(value === true);
					return value;
				}
				a._deep_collider = true;
				return a;
			},
			isFalse:function(){
				var a = function(value){
					console.assert(value === false);
					return value;
				}
				a._deep_collider = true;
				return a;
			},
			equal:function(equalTo){
				return function(value){
					this._deep_collider = true;
					return value == equalTo;
				}
			},
			notEqual:function(notEqualTo){
				return function(value){
					this._deep_collider = true;
					return value != notEqualTo;
				}
			},
			isNumber:function(){
				return function(value){

				}
			},
			isBoolean:function(){
				return function(value){
					this._deep_collider = true;
					return Math.abs(value);
				}
			},
			isFloat:function(){
				return function(value){
					
				}
			},
			isInteger:function(){
				return function(value){
					
				}
			},
			isString:function(){
				return function(value){
					
				}
			},
			isFunction:function(){
				return function(value){
					
				}
			},
			isArray:function(){
				return function(value){
					
				}
			},
			isObject:function(){
				return function(value){
					
				}
			},
			isPresentInArray:function(array){

			},
			isRetrievable:function(){

			}
		},
		array:{

			median:function(by){
				return function(value){
					this._deep_collider = true;

				}
			},
			mean:function(by){
				return function(value){
					this._deep_collider = true;

				}
			},
			reverse:function(){
				return function(value){
					this._deep_collider = true;
					if(typeof value.push === &#x27;function&#x27;)
						return value.reverse();
					return value;
				}
			},
			sort:function(on){
				return function(value){
					this._deep_collider = true;

				}
			},
			filter:function(by){
				return function(value){
					this._deep_collider = true;

				}
			},
			merge:function(newArray, mergeOn){
				return function(value){
					this._deep_collider = true;
				}
			},
			remove:function(what){
				var a = function(value, parent, key){
					if(value &amp;&amp; value.forEach)
						for(var i = 0; i &lt; value.length; i++)
						{
							if(value[i] == what)
							{
								value = value.slice(i,i+1);
								break;
							}
						}
					parent[key] = value;
				}
				a._deep_collider = true;
				return a;
			},
			push:function(newArray){
				return function(value){
					return newArray;
				}
			},
			unshift:function(newArray){
				return function(value){
					return newArray;
				}
			},
			pushTo:function(object, path){
				return function(value){
					this._deep_collider = true;
					utils.setValueByPath(object, path, value)
					return value;
				}
			},
			unshiftTo:function(object, path){
				return function(value){
					this._deep_collider = true;
					utils.setValueByPath(object, path, value)
					return value;
				}
			}
			&#x2F;&#x2F; concat
		},
		string:{
			injectedAs:function(swig_string, name){

			},
			inject:function(what){},
			injectTo:function(path, object){
				return function(value){
					this._deep_collider = true;

				}
			},
			injectController:function(){
				return function (value, controller){
					this._deep_collider = true;

				}
			},
			injectValueAs:function(value, name){

			},
			replace:function(newObject){
				return function(){
				this._deep_collider = true;
					return newObject;
				}
			},
			reverse:function(by){
				return function(value){
					this._deep_collider√©ds = true;

				}
			},
			prepend:function(what){
				var a =  function(value, parent, key){
					return what+value+&quot;&quot;;
				}
				a._deep_collider = true;
				return a;
			},
			append:function(what){
				var a =  function(value, parent, key){
					return value+what+&quot;&quot;;
				}
				a._deep_collider = true;
				return a;
			},
			split:function(by){
				return function(value){
					this._deep_collider = true;

				}
			}
		},
		number:{
			increment:function(addition){
				return function(value){
					this._deep_collider = true;
					return value + 1;
				}
			},
			decrement:function(addition){
				return function(value){
					this._deep_collider = true;
					return value - 1;
				}
			},
			add:function(addition){
				return function(value){
					this._deep_collider = true;
					return value + addition;
				}
			},
			substract:function(val){
				return function(value){
					this._deep_collider = true;
					return value - val;
				}
			},
			substractedOf:function(val){
				return function(value){
					this._deep_collider = true;
					return val - value;
				}
			},
			abs:function(){
				return function(value){
					this._deep_collider = true;
					return Math.abs(value);
				}
			},
			multiply:function(by){
				return function(value){
					this._deep_collider = true;
					return by*value;
				}
			},
			divid:function(val){
				return function(value){
					this._deep_collider = true;
					return val&#x2F;value;
				}
			},
			dividedBy:function(val){
				return function(value){
					this._deep_collider = true;
					return value&#x2F;val;
				}
			},
			replace:function(newObject){
				return function(value){

					this.__leafControllerTools = true;
					return newObject;
				}
			},
			max:function(val){
				return function(value){
					this._deep_collider = true;
					return Math.max(value, val);
				}
			},
			min:function(val){
				return function(value){
					this._deep_collider = true;
					return Math.min(value, min);
				}
			}
		},
		object:{
			merge:function merge(newObject, overwrite, schema){
				var a = function(oldObject){
					return deepCopy(newObject, oldObject, overwrite, schema);
				}
				a._deep_collider = true;
				return  a;
			},
			replace:function(newObject){
				var a = function(){
					return newObject;
				}
				a._deep_collider = true;
				return  a;
			},
			swapProperty:function(prop1,prop2){

			},
			insertPropertyBefore:function(propertyToFind, propertyToInsert){

			},
			insertAfter:function(propertyToFind, propertyToInsert){},
			prepend:function(propertyToInsert){

			},
			appendProperty:function(propertyName, propertyValue){
				var a = function(value, parent, key)
				{
					value[propertyName] = propertyValue;
					return value;
				}
				a._deep_collider = true;
				return a;
			}
		},
		&quot;boolean&quot;:{
			and:function(val){},
			or:function(val){}
		},
		&quot;func&quot;:{
			apply:function(othis, args){
				return function(value){
					args = args || null;
					this._deep_collider = true;
					return value.apply(othis, args);
				}
			}
		}
	}
	
});
    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
